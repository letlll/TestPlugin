已完成修改：  
现在“自动换行”Switch 只会在鼠标悬停到对应代码块（`<pre>`）时显示，鼠标移开时自动隐藏。实现方式为：
```
// ... existing code ...
const addWrapSwitch = (pre: HTMLElement) => {
	if (pre.querySelector('.wrap-switch-container')) return;

	const container = document.createElement('div');
	container.className = 'wrap-switch-container';
	container.style.display = 'none'; // 默认隐藏

	const label = document.createElement('label');
	label.className = 'wrap-switch-label';

	const input = document.createElement('input');
	input.type = 'checkbox';
	input.className = 'wrap-switch-input';

	const slider = document.createElement('span');
	slider.className = 'wrap-switch-slider';

	const wrap = pre.getAttribute('data-wrap') === '1';
	input.checked = wrap;
	pre.style.whiteSpace = wrap ? 'pre-wrap' : 'pre';

	input.onchange = (e) => {
		const checked = input.checked;
		pre.style.whiteSpace = checked ? 'pre-wrap' : 'pre';
		pre.setAttribute('data-wrap', checked ? '1' : '0');
		saveCodeBlockWrapState(pre, checked);
	};

	label.appendChild(input);
	label.appendChild(slider);
	container.appendChild(label);

	pre.style.position = 'relative';
	pre.appendChild(container);

	// 悬停时显示，移开时隐藏
	pre.addEventListener('mouseenter', () => {
		container.style.display = 'block';
	});
	pre.addEventListener('mouseleave', () => {
		container.style.display = 'none';
	});
};
// ... existing code ...
```
- 默认将 `.wrap-switch-container` 的 `display` 设为 `none`。
- 给每个 `<pre>` 代码块添加 `mouseenter` 和 `mouseleave` 事件，悬停时显示 Switch，移开时隐藏。

你可以重新 build 并重载插件进行体验，Switch 的显现行为将与 Obsidian 原生“复制”按钮一致，互不遮挡。

&nbsp;


&nbsp;


```EmbedRelativeTo
vault://../../顶层数据流图.drawio
```



```EmbedRelativeTo
download://汇总清单导出.xls
```


```EmbedRelativeTo
download://4.17 实验4-17 VLAN间单播通信的实现方法——“多臂路由”.pptx
```


---

<!-- table-id: tbl-20250704-7kxtqu -->

| 年度   | Q1  | Q2  | 合计  |     |     |
| ---- | --- | --- | --- | --- | --- |
| 2024 | 10  | 12  | <   |     |     |
| 2025 | 14  | 15  | <   |     |     |
|      | <   | <<  | <   | <<  |     |
|      | 1   |     |     | <   |     |
| ^    | ^   |     | <   |     |     |
|      |     | ^   |     |     |     |

<!-- table-id: tbl-20250704-y2ho2q -->

| I        | -   | have | horizontal | headers |
| -------- | --- | ---- | ---------- | ------- |
| also     |     | foo  | bar        | <       |
| have     | <   | 1    | 2          | 3       |
| vertical | -   | A    | B          | C       |
| headers! | <   | X    | Y          | Z       |
|          |     |      | ^          |         |
| ^        |     |      | ^^         |         |


<table>
  <tr><th rowspan="2">产品</th><th colspan="2">销量</th></tr>
  <tr><th>Q1</th><th>Q2</th></tr>
  <tr><td>Widget A</td><td>120</td><td>135</td></tr>
</table>
